<!DOCTYPE HTML>
<html>
  <head>
    <title>ESP Quote Machine</title>
    <meta name="viewport" content="width=300px, initial-scale=1"/>
    <style type="text/css">
      body{font: normal 14px Verdana, Geneva, sans-serif;}
      h5{font-size: 10px;}
    </style>
    <script type='text/javascript'>
      function getData()
      {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() 
        {
          if(this.readyState == 4 && this.status == 200) 
          {
            var root = JSON.parse(this.responseText);
            console.log(root);
            document.getElementById("bitcoin").checked = root.bitcoin;
            document.getElementById("tbills").checked = root.tbills;
            document.getElementById("ip").innerHTML = root.ip;
            document.getElementById("version").innerHTML = root.version;
            document.getElementById("macaddress").innerHTML = root.macaddress;
            document.getElementById("hostname").innerHTML = "http://"+root.hostname+".local/";
            form = document.getElementById("tickers");
            for(i = 0; i < root.tickers.length; i++)
            {
              var input = document.createElement("input");
              input.name = "ticker";
              input.value = root.tickers[i];
              form.appendChild(input);
              form.appendChild(document.createElement("br"));
            }
            form.appendChild(document.createElement("br"));

            var submit = document.createElement("input");
            submit.type = "submit";
            submit.value = "Submit";
            form.appendChild(submit);
          }
        };
        xhttp.open("GET", "/gettickers", true);
        xhttp.send();
      }
    </script>
  </head>
  <body onload="getData()">
    <h5>The first ticker will be used to display the daily price chart</h5>
    <form method="POST" id="tickers" action="/settickers">
      <!-- script to dynamically create a list of these -->
      <!-- <input type="text" name="ticker" value=""><br/>-->
      <h5>
        Show Bitcoin: <input id="bitcoin" name="bitcoin" type="checkbox" value="true"><br> 
        Show TBills: <input id="tbills" name="tbills" type="checkbox" value="true">
      </h5>
    </form>
    <h5>
      Hostname: <span id="hostname"></span><br>
      IP Address: <span id="ip"></span><br>
      MAC Address: <span id="macaddress"></span><br>
      Version: <span id="version"></span>
    </h5>
  </body>
</html>
